---
const { ref, ...props } = Astro.props;
const base = import.meta.env.BASE_URL;
const href = ref.startsWith('http') || ref.startsWith('//') 
  ? ref 
  : `${base.endsWith('/') ? base.slice(0, -1) : base}${ref.startsWith('/') ? ref : '/' + ref}`;
---

<a href={href} {...props}><slot /></a>